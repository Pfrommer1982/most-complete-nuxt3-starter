import { a8 as br, a9 as On } from './server.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/vue@3.4.35_typescript@5.5.4/node_modules/vue/index.mjs';
import 'node:http';
import 'node:https';
import 'node:zlib';
import 'node:stream';
import 'node:buffer';
import 'node:util';
import 'node:url';
import 'node:net';
import 'node:fs';
import 'node:path';
import '../_/renderer.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/vue-bundle-renderer@2.1.0/node_modules/vue-bundle-renderer/dist/runtime.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/h3@1.12.0/node_modules/h3/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/devalue@5.0.0/node_modules/devalue/index.js';
import '../runtime.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/ofetch@1.3.4/node_modules/ofetch/dist/node.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/destr@2.0.3/node_modules/destr/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unenv@1.10.0/node_modules/unenv/runtime/fetch/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/hookable@5.5.3/node_modules/hookable/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/klona@2.0.6/node_modules/klona/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/scule@1.3.0/node_modules/scule/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/defu@6.1.4/node_modules/defu/dist/defu.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/ohash@1.1.3/node_modules/ohash/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unstorage@1.10.2_ioredis@5.4.1/node_modules/unstorage/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unstorage@1.10.2_ioredis@5.4.1/node_modules/unstorage/drivers/fs.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unstorage@1.10.2_ioredis@5.4.1/node_modules/unstorage/drivers/fs-lite.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unstorage@1.10.2_ioredis@5.4.1/node_modules/unstorage/drivers/lru-cache.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/radix3@1.1.2/node_modules/radix3/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/pathe@1.1.2/node_modules/pathe/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unified@11.0.5/node_modules/unified/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/mdast-util-to-string@4.0.0/node_modules/mdast-util-to-string/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/micromark@4.0.0/node_modules/micromark/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unist-util-stringify-position@4.0.0/node_modules/unist-util-stringify-position/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/micromark-util-character@2.1.0/node_modules/micromark-util-character/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/micromark-util-chunked@2.0.0/node_modules/micromark-util-chunked/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/micromark-util-resolve-all@2.0.0/node_modules/micromark-util-resolve-all/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/micromark-util-sanitize-uri@2.0.0/node_modules/micromark-util-sanitize-uri/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/slugify@1.6.6/node_modules/slugify/slugify.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/remark-parse@11.0.0/node_modules/remark-parse/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/remark-rehype@11.1.0/node_modules/remark-rehype/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/remark-mdc@3.2.1/node_modules/remark-mdc/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/remark-emoji@5.0.1/node_modules/remark-emoji/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/remark-gfm@4.0.0/node_modules/remark-gfm/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/rehype-external-links@3.0.0/node_modules/rehype-external-links/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/rehype-sort-attribute-values@5.0.0/node_modules/rehype-sort-attribute-values/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/rehype-sort-attributes@5.0.0/node_modules/rehype-sort-attributes/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/rehype-raw@7.0.0/node_modules/rehype-raw/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/detab@3.0.2/node_modules/detab/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/hast-util-to-string@3.0.0/node_modules/hast-util-to-string/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/github-slugger@2.0.0/node_modules/github-slugger/index.js';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/vue@3.4.35_typescript@5.5.4/node_modules/vue/server-renderer/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/@unhead+ssr@1.9.16/node_modules/@unhead/ssr/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unhead@1.9.16/node_modules/unhead/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/@unhead+shared@1.9.16/node_modules/@unhead/shared/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/unctx@2.3.1/node_modules/unctx/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/vue-router@4.4.2_vue@3.4.35/node_modules/vue-router/dist/vue-router.node.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/firebase@10.12.5/node_modules/firebase/app/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/firebase@10.12.5/node_modules/firebase/auth/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/firebase@10.12.5/node_modules/firebase/firestore/dist/index.mjs';
import 'file:///Users/christoph/Desktop/try-out%202/node_modules/.pnpm/gsap@3.12.5/node_modules/gsap/dist/gsap.js';

var B = Object.defineProperty;
var E = (u, a) => B(u, "name", { value: a, configurable: true });
let D = 0;
const t = { START_BOUNDARY: D++, HEADER_FIELD_START: D++, HEADER_FIELD: D++, HEADER_VALUE_START: D++, HEADER_VALUE: D++, HEADER_VALUE_ALMOST_DONE: D++, HEADERS_ALMOST_DONE: D++, PART_DATA_START: D++, PART_DATA: D++, END: D++ };
let w = 1;
const R = { PART_BOUNDARY: w, LAST_BOUNDARY: w *= 2 }, g = 10, N = 13, x = 32, P = 45, C = 58, I = 97, M = 122, $ = E((u) => u | 32, "lower"), m = E(() => {
}, "noop"), F = class F2 {
  constructor(a) {
    this.index = 0, this.flags = 0, this.onHeaderEnd = m, this.onHeaderField = m, this.onHeadersEnd = m, this.onHeaderValue = m, this.onPartBegin = m, this.onPartData = m, this.onPartEnd = m, this.boundaryChars = {}, a = `\r
--` + a;
    const n = new Uint8Array(a.length);
    for (let r = 0; r < a.length; r++)
      n[r] = a.charCodeAt(r), this.boundaryChars[n[r]] = true;
    this.boundary = n, this.lookbehind = new Uint8Array(this.boundary.length + 8), this.state = t.START_BOUNDARY;
  }
  write(a) {
    let n = 0;
    const r = a.length;
    let d = this.index, { lookbehind: l, boundary: c, boundaryChars: p, index: e, state: i, flags: A } = this;
    const H = this.boundary.length, O = H - 1, y = a.length;
    let o, L;
    const f = E((h) => {
      this[h + "Mark"] = n;
    }, "mark"), s = E((h) => {
      delete this[h + "Mark"];
    }, "clear"), T = E((h, S, _, U) => {
      (S === void 0 || S !== _) && this[h](U && U.subarray(S, _));
    }, "callback"), b = E((h, S) => {
      const _ = h + "Mark";
      _ in this && (S ? (T(h, this[_], n, a), delete this[_]) : (T(h, this[_], a.length, a), this[_] = 0));
    }, "dataCallback");
    for (n = 0; n < r; n++)
      switch (o = a[n], i) {
        case t.START_BOUNDARY:
          if (e === c.length - 2) {
            if (o === P)
              A |= R.LAST_BOUNDARY;
            else if (o !== N)
              return;
            e++;
            break;
          } else if (e - 1 === c.length - 2) {
            if (A & R.LAST_BOUNDARY && o === P)
              i = t.END, A = 0;
            else if (!(A & R.LAST_BOUNDARY) && o === g)
              e = 0, T("onPartBegin"), i = t.HEADER_FIELD_START;
            else
              return;
            break;
          }
          o !== c[e + 2] && (e = -2), o === c[e + 2] && e++;
          break;
        case t.HEADER_FIELD_START:
          i = t.HEADER_FIELD, f("onHeaderField"), e = 0;
        case t.HEADER_FIELD:
          if (o === N) {
            s("onHeaderField"), i = t.HEADERS_ALMOST_DONE;
            break;
          }
          if (e++, o === P)
            break;
          if (o === C) {
            if (e === 1)
              return;
            b("onHeaderField", true), i = t.HEADER_VALUE_START;
            break;
          }
          if (L = $(o), L < I || L > M)
            return;
          break;
        case t.HEADER_VALUE_START:
          if (o === x)
            break;
          f("onHeaderValue"), i = t.HEADER_VALUE;
        case t.HEADER_VALUE:
          o === N && (b("onHeaderValue", true), T("onHeaderEnd"), i = t.HEADER_VALUE_ALMOST_DONE);
          break;
        case t.HEADER_VALUE_ALMOST_DONE:
          if (o !== g)
            return;
          i = t.HEADER_FIELD_START;
          break;
        case t.HEADERS_ALMOST_DONE:
          if (o !== g)
            return;
          T("onHeadersEnd"), i = t.PART_DATA_START;
          break;
        case t.PART_DATA_START:
          i = t.PART_DATA, f("onPartData");
        case t.PART_DATA:
          if (d = e, e === 0) {
            for (n += O; n < y && !(a[n] in p); )
              n += H;
            n -= O, o = a[n];
          }
          if (e < c.length)
            c[e] === o ? (e === 0 && b("onPartData", true), e++) : e = 0;
          else if (e === c.length)
            e++, o === N ? A |= R.PART_BOUNDARY : o === P ? A |= R.LAST_BOUNDARY : e = 0;
          else if (e - 1 === c.length)
            if (A & R.PART_BOUNDARY) {
              if (e = 0, o === g) {
                A &= ~R.PART_BOUNDARY, T("onPartEnd"), T("onPartBegin"), i = t.HEADER_FIELD_START;
                break;
              }
            } else
              A & R.LAST_BOUNDARY && o === P ? (T("onPartEnd"), i = t.END, A = 0) : e = 0;
          if (e > 0)
            l[e - 1] = o;
          else if (d > 0) {
            const h = new Uint8Array(l.buffer, l.byteOffset, l.byteLength);
            T("onPartData", 0, d, h), d = 0, f("onPartData"), n--;
          }
          break;
        case t.END:
          break;
        default:
          throw new Error(`Unexpected state entered: ${i}`);
      }
    b("onHeaderField"), b("onHeaderValue"), b("onPartData"), this.index = e, this.state = i, this.flags = A;
  }
  end() {
    if (this.state === t.HEADER_FIELD_START && this.index === 0 || this.state === t.PART_DATA && this.index === this.boundary.length)
      this.onPartEnd();
    else if (this.state !== t.END)
      throw new Error("MultipartParser.end(): stream ended unexpectedly");
  }
};
E(F, "MultipartParser");
let k = F;
function v(u) {
  const a = u.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);
  if (!a)
    return;
  const n = a[2] || a[3] || "";
  let r = n.slice(n.lastIndexOf("\\") + 1);
  return r = r.replace(/%22/g, '"'), r = r.replace(/&#(\d{4});/g, (d, l) => String.fromCharCode(l)), r;
}
E(v, "_fileName");
async function Z(u, a) {
  if (!/multipart/i.test(a))
    throw new TypeError("Failed to fetch");
  const n = a.match(/boundary=(?:"([^"]+)"|([^;]+))/i);
  if (!n)
    throw new TypeError("no or bad content-type header, no multipart boundary");
  const r = new k(n[1] || n[2]);
  let d, l, c, p, e, i;
  const A = [], H = new br(), O = E((s) => {
    c += f.decode(s, { stream: true });
  }, "onPartData"), y = E((s) => {
    A.push(s);
  }, "appendToFile"), o = E(() => {
    const s = new On(A, i, { type: e });
    H.append(p, s);
  }, "appendFileToFormData"), L = E(() => {
    H.append(p, c);
  }, "appendEntryToFormData"), f = new TextDecoder("utf-8");
  f.decode(), r.onPartBegin = function() {
    r.onPartData = O, r.onPartEnd = L, d = "", l = "", c = "", p = "", e = "", i = null, A.length = 0;
  }, r.onHeaderField = function(s) {
    d += f.decode(s, { stream: true });
  }, r.onHeaderValue = function(s) {
    l += f.decode(s, { stream: true });
  }, r.onHeaderEnd = function() {
    if (l += f.decode(), d = d.toLowerCase(), d === "content-disposition") {
      const s = l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);
      s && (p = s[2] || s[3] || ""), i = v(l), i && (r.onPartData = y, r.onPartEnd = o);
    } else
      d === "content-type" && (e = l);
    l = "", d = "";
  };
  for await (const s of u)
    r.write(s);
  return r.end(), H;
}
E(Z, "toFormData");

export { Z as toFormData };
//# sourceMappingURL=multipart-parser-Ovjl5WDt.mjs.map
