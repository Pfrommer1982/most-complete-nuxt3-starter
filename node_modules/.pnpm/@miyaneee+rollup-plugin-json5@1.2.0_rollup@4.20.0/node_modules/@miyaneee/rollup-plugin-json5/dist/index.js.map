{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { createFilter, dataToEsm } from '@rollup/pluginutils'\nimport json5 from 'json5'\n\nfunction json5Plugin(options = {}) {\n  const filter = createFilter(options.include, options.exclude)\n  const indent = 'indent' in options ? options.indent : '\\t'\n\n  return {\n    name: 'json5',\n    transform(json, id) {\n      if (!/\\.json5$/.test(id) || !filter(id)) return null\n\n      try {\n        const parsed = json5.parse(json, options.reviver)\n        return {\n          code: dataToEsm(parsed, {\n            preferConst: options.preferConst,\n            compact: options.compact,\n            namedExports: options.namedExports,\n            includeArbitraryNames: options.includeArbitraryNames,\n            indent\n          }),\n          map: { mappings: '' }\n        }\n      } catch (err) {\n        const message = 'Could not parse JSON5 file'\n        const position = parseInt(/[\\d]/.exec(err.message)[0], 10)\n        this.warn({ message, id, position })\n        return null\n      }\n    }\n  }\n}\n\nexport default json5Plugin\n"],"names":["const","createFilter","dataToEsm"],"mappings":";;;;;AAGA,SAAS,WAAW,CAAC,OAAY,EAAE;mCAAP,GAAG,EAAA,CAAA;AAAK;AACpC,EAAEA,IAAM,MAAM,GAAGC,wBAAY,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,EAAC;AAC/D,EAAED,IAAM,MAAM,GAAG,QAAQ,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,GAAG,KAAI;AAC5D;AACA,EAAE,OAAO;AACT,IAAI,IAAI,EAAE,OAAO;AACjB,IAAI,SAAS,EAAA,SAAA,SAAA,CAAC,IAAI,EAAE,EAAE,EAAE;AACxB,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAA,EAAE,OAAO,IAAI,EAAA;AAC1D;AACA,MAAM,IAAI;AACV,QAAQA,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,OAAO,EAAC;AACzD,QAAQ,OAAO;AACf,UAAU,IAAI,EAAEE,qBAAS,CAAC,MAAM,EAAE;AAClC,YAAY,WAAW,EAAE,OAAO,CAAC,WAAW;AAC5C,YAAY,OAAO,EAAE,OAAO,CAAC,OAAO;AACpC,YAAY,YAAY,EAAE,OAAO,CAAC,YAAY;AAC9C,YAAY,qBAAqB,EAAE,OAAO,CAAC,qBAAqB;AAChE,YAAA,MAAA,EAAY,MAAM;AAClB,WAAW,CAAC;AACZ,UAAU,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE;AAC/B,SAAS;AACT,OAAO,CAAC,OAAO,GAAG,EAAE;AACpB,QAAQF,IAAM,OAAO,GAAG,6BAA4B;AACpD,QAAQA,IAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAC;AAClE,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAA,OAAA,EAAE,OAAO,EAAA,EAAA,EAAE,EAAE,EAAA,QAAA,EAAE,QAAQ,EAAE,EAAC;AAC5C,QAAQ,OAAO,IAAI;AACnB,OAAO;AACP,KAAK;AACL,GAAG;AACH;;;;"}